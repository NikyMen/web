<main class="max-w-screen-xl mx-auto px-4 py-10">
  <h1 class="text-3xl font-bold mb-8">ðŸ›’ Tu carrito</h1>

  <% if (productos.length === 0) { %>
    <p class="text-gray-600 text-center">Tu carrito estÃ¡ vacÃ­o.</p>
  <% } else { %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <% productos.forEach(p => { %>
        <div class="bg-white shadow rounded p-4 flex flex-col">
          <img src="<%= p.imagen %>" alt="<%= p.nombre %>" class="w-full h-40 object-contain mb-3" />
          <h2 class="text-lg font-bold text-gray-900 mb-2"><%= p.nombre %></h2>
          <p class="text-sm text-gray-500 mb-1">CÃ³digo: <%= p.codigo %></p>
          <p class="text-blue-700 font-semibold">Precio: $<%= p.precio.toFixed(2) %></p>
          <p class="text-gray-700">Cantidad: <%= p.cantidad %></p>
          <p class="text-gray-900 font-semibold mt-2">Subtotal: $<%= p.subtotal.toFixed(2) %></p>

          <form action="/carrito/eliminar" method="POST" class="mt-4">
            <input type="hidden" name="codigo" value="<%= p.codigo %>">
            <button class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 w-full">
              Eliminar
            </button>
          </form>
        </div>
      <% }) %>
    </div>

    <div class="mt-10 text-right">
      <h2 class="text-2xl font-bold text-gray-900">Total: $<%= total.toFixed(2) %></h2>
      <a href="/productos" class="inline-block mt-4 px-6 py-3 bg-blue-800 text-white rounded hover:bg-blue-700">
        Seguir comprando
      </a>
    </div>
  <% } %>
</main>
